schema: '2.0'
stages:
  data_load:
    cmd: python src/stages/data_load.py
    outs:
    - path: data/zip
      hash: md5
      md5: 25a0cdf0b4038a807b421eb2b9803fe1.dir
      size: 1478252441
      nfiles: 2
  data_process:
    cmd: python src/stages/data_process.py
    deps:
    - path: data/zip/
      hash: md5
      md5: 25a0cdf0b4038a807b421eb2b9803fe1.dir
      size: 1478252441
      nfiles: 2
    - path: src/stages/data_process.py
      hash: md5
      md5: f96c175867d87fec9ff1d43205ee9406
      size: 7222
    - path: src/utils/data_process.py
      hash: md5
      md5: 15e4101929009fc4ce46a4adfaf2cba3
      size: 1767
    outs:
    - path: data/processed/test_processed.zip
      hash: md5
      md5: 0208a7df6fffdcdb1eaaac528d1c909d
      size: 34051814
    - path: data/processed/train_processed.zip
      hash: md5
      md5: f2196ee422a27559ae42d9d038c7283d
      size: 139372212
  train:
    cmd: python src/stages/train.py
    deps:
    - path: data/processed/test_processed
      hash: md5
      md5: 5e44275b5e35b99166bc82f37e6c4188.dir
      size: 33444278
      nfiles: 3413
    - path: data/processed/train_processed
      hash: md5
      md5: abe9ae501957ac7b42ba64cd551bd863.dir
      size: 136863710
      nfiles: 13936
    - path: src/stages/train.py
      hash: md5
      md5: f15923d5542645900fae6317c1039711
      size: 2408
    - path: src/train/models.py
      hash: md5
      md5: 03c9ed9ac5c3cdc6ae8783bdfde9c2af
      size: 3855
    params:
      params.yaml:
        train.epochs: 30
        train.fine_tune: false
        train.lr: 1e-05
        train.nn: resnet18
        train.number_images:
    outs:
    - path: models/model.pkl
      hash: md5
      md5: 79191fd8834370b276966bf5c8f75ecc
      size: 44796743
    - path: results/results.csv
      hash: md5
      md5: d54a18b246d097eb2bc6a72fa96237e8
      size: 2496
    - path: results/results.png
      hash: md5
      md5: 31ee3aca1f4ed60f8f1380bf0b9733e2
      size: 38012
  unpack:
    cmd: python src/stages/data_unpack.py
    deps:
    - path: data/processed/test_processed.zip
      hash: md5
      md5: 0208a7df6fffdcdb1eaaac528d1c909d
      size: 34051814
    - path: data/processed/train_processed.zip
      hash: md5
      md5: f2196ee422a27559ae42d9d038c7283d
      size: 139372212
    outs:
    - path: data/processed/test_processed
      hash: md5
      md5: 5e44275b5e35b99166bc82f37e6c4188.dir
      size: 33444278
      nfiles: 3413
    - path: data/processed/train_processed
      hash: md5
      md5: abe9ae501957ac7b42ba64cd551bd863.dir
      size: 136863710
      nfiles: 13936
  evaluate:
    cmd: python src/stages/evaluate.py
    deps:
    - path: results/results.csv
      hash: md5
      md5: d54a18b246d097eb2bc6a72fa96237e8
      size: 2496
    - path: results/results.png
      hash: md5
      md5: 31ee3aca1f4ed60f8f1380bf0b9733e2
      size: 38012
    outs:
    - path: results/test_results.json
      hash: md5
      md5: c573c07f499f06192690184bc0902566
      size: 67
  predict:
    cmd: python src/stages/predict.py
    deps:
    - path: models/model_predict.pkl
      hash: md5
      md5: 89f218ca257fbe150961ed6517fda40a
      size: 44796743
    - path: src/stages/predict.py
      hash: md5
      md5: 4b6eccfe45eaaf19259ed1374916d840
      size: 1732
    outs:
    - path: predict/predict.csv
      hash: md5
      md5: f9a3e02b305952321898c66c2d597c5f
      size: 122868
  train_to_predict:
    cmd: python src/stages/train_to_predict.py
    deps:
    - path: data/processed/test_processed
      hash: md5
      md5: 5e44275b5e35b99166bc82f37e6c4188.dir
      size: 33444278
      nfiles: 3413
    - path: data/processed/train_processed
      hash: md5
      md5: abe9ae501957ac7b42ba64cd551bd863.dir
      size: 136863710
      nfiles: 13936
    - path: src/stages/train_to_predict.py
      hash: md5
      md5: 5bb7ab46b666dbd8c80dc0f1258fe079
      size: 2331
    outs:
    - path: models/model_predict.pkl
      hash: md5
      md5: 89f218ca257fbe150961ed6517fda40a
      size: 44796743
    - path: results/train_predict_results.csv
      hash: md5
      md5: 3baf953135113fafcb076ac2482d137a
      size: 1334
