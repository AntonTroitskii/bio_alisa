schema: '2.0'
stages:
  data_load:
    cmd: python src/stages/data_load.py
    outs:
    - path: data/zip
      hash: md5
      md5: 25a0cdf0b4038a807b421eb2b9803fe1.dir
      size: 1478252441
      nfiles: 2
  data_process:
    cmd: python src/stages/data_process.py
    deps:
    - path: src/stages/data_process.py
      hash: md5
      md5: f96c175867d87fec9ff1d43205ee9406
      size: 7222
    - path: src/utils/data_process.py
      hash: md5
      md5: 15e4101929009fc4ce46a4adfaf2cba3
      size: 1767
    outs:
    - path: data/processed/test_processed.zip
      hash: md5
      md5: b04bfe295f16093852afd116252679dd
      size: 34051814
    - path: data/processed/train_processed.zip
      hash: md5
      md5: ce3e76be269aab0532b39a50c3d7f587
      size: 139372212
  train:
    cmd: python src/stages/train.py
    deps:
    - path: src/stages/train.py
      hash: md5
      md5: f15923d5542645900fae6317c1039711
      size: 2408
    - path: src/train/models.py
      hash: md5
      md5: 03c9ed9ac5c3cdc6ae8783bdfde9c2af
      size: 3855
    params:
      params.yaml:
        train.epochs: 15
        train.fine_tune: false
        train.lr: 1e-05
        train.nn: resnet18
        train.number_images: 100
    outs:
    - path: models/model.pkl
      hash: md5
      md5: 51bab4419c280f398020925de1faf405
      size: 44796743
    - path: results/results.csv
      hash: md5
      md5: 007f8a3788633216b96e3ec77b9023cd
      size: 901
    - path: results/results.png
      hash: md5
      md5: cf974c72db013e5258fe1cf3b732334b
      size: 43955
  unpack:
    cmd: python src/stages/data_unpack.py
    deps:
    - path: data/processed/test_processed.zip
      hash: md5
      md5: b04bfe295f16093852afd116252679dd
      size: 34051814
    - path: data/processed/train_processed.zip
      hash: md5
      md5: ce3e76be269aab0532b39a50c3d7f587
      size: 139372212
    outs:
    - path: data/processed/test_processed
      hash: md5
      md5: 5e44275b5e35b99166bc82f37e6c4188.dir
      size: 33444278
      nfiles: 3413
    - path: data/processed/train_processed
      hash: md5
      md5: abe9ae501957ac7b42ba64cd551bd863.dir
      size: 136863710
      nfiles: 13936
  evaluate:
    cmd: python src/stages/evaluate.py
    deps:
    - path: results/results.csv
      hash: md5
      md5: 007f8a3788633216b96e3ec77b9023cd
      size: 901
    - path: results/results.png
      hash: md5
      md5: cf974c72db013e5258fe1cf3b732334b
      size: 43955
    outs:
    - path: results/test_results.json
      hash: md5
      md5: c48a3a1ca572a8ca8e5d3aec13e5f10c
      size: 49
  predict:
    cmd: python src/stages/predict.py
    deps:
    - path: models/model.pkl
      hash: md5
      md5: 51bab4419c280f398020925de1faf405
      size: 44796743
    - path: src/stages/predict.py
      hash: md5
      md5: 947280d8fc74a48f06af3475a4dbe964
      size: 1370
    outs:
    - path: predict/predict.txt
      hash: md5
      md5: 8e1688a2d9982911075c5b5e95708c4d
      size: 122866
